function init(e){"use strict";const t={empty:function(e){let t=e.childNodes.length;for(;t--;)e.removeChild(e.lastChild)},insertAfter:function(e,t){const{parentNode:n,nextSibling:r}=t;r?n.insertBefore(e,r):n.appendChild(e)},replace:function(e,n){t.insertAfter(n,e),e.remove()}},n=function(){const e={add:function(){return e},component:function(){return e},mount:n,update:r,share:{mount:n,update:r,destroy:function(){return null},isStatic:function(){return!0}}};return e;function n(e,n="childLast"){switch(n){case"replace":e.remove();break;case"replaceContent":t.empty(e)}return null}function r(){return!0}}();t.component=function(e,r,{mapUpdate:s}={}){if(void 0===e||"EMPTY"===e.toUpperCase())return n;let o=null;const i=document.createDocumentFragment();let c,l=[],a=0,u=[];const f={add:d,addText:function(e,t=0){g(t);const n=document.createTextNode(e);let r=l[a]=h().appendChild(n);return a+=1,Object.assign({oninit:function(e){return e(r),f}},f)},component:function({mount:e,update:t,isStatic:n},r=0){g(r),l[a]=e(h()),n()||(o||(o=b()),o.registerComponent(t));return a+=1,f},setShift:function(e=0){let t;e?u.splice(u.length+1+e):(t=u.pop(),u.push(t,t))},mount:p,update:m,share:{mount:p,update:m,destroy:function(){return c.remove(),null},isStatic:function(){return!o}}};return d(e,r);function d(e,n,r=0){g(r),n=n||{};const s=document.createElement(e);a?l[a]=h().appendChild(s):c=l[0]=i.appendChild(s);let u=l[a];return a+=1,t.assign(u,n),Object.assign({getReference:()=>u,oninit:function(e){return e(u),f},onupdate:function(e,n){return e?(o||(o=b()),t.assign(u,o.register(u,e,n)),f):f}},f)}function p(e,n="childLast"){switch(n){case"replace":t.replace(e,i);break;case"replaceContent":t.empty(e),e.appendChild(i);break;case"before":e.parentNode.insertBefore(i,e);break;case"after":t.insertAfter(i,e);break;default:"childFirst"===n&&e.childNodes.length?e.insertBefore(i,e.childNodes[0]):e.appendChild(i)}return c}function g(e){e?(u.splice(u.length+1+e),u[u.length-1]=a):u.push(a)}function h(){return l[u[u.length-2]]||i}function b(){const e={},n=[],r=new Map,o=new Map,i=new Map;let c=0;return{register:function(t,n,s){Object.assign(e,n);const l=c++;r.set(l,t);const a=Object.keys(n);for(let e,t=0,n=a.length;t<n;t++)e=a[t],i.has(e)?i.set(e,[...i.get(e),l]):i.set(e,[l]);return o.set(l,s),s.call(t,n)||{}},registerComponent:function(e){-1===n.indexOf(e)&&n.push(e)},update:function(c){const a="function"==typeof s?s(c):c;let u=!1;for(let e=0,t=n.length;e<t;e++)n[e](a)&&!u&&(u=!0);if(!i.size)return u;const f=Object.keys(a).filter(t=>i.has(t)&&e[t]!==a[t]),d=f.length;if(!d)return u;Object.assign(e,a);const p=[];for(let e,t=0;t<d;t++)for(let n,r=0,s=(e=i.get(f[t])).length;r<s;r++)n=e[r],-1===p.indexOf(n)&&p.push(n);for(let e=0,t=p.length;e<t;e++)g(p[e]);return!0;function g(n){const s=o.get(n).call(r.get(n),e)||{},i=r.get(n);if(null===i.parentNode)return l(n,f);t.assign(i,s)}},getData:function(){return e},unregister:l};function l(e,t){o.delete(e),r.delete(e);for(let e,r,s=0,o=t.length;s<o;s++)e=t[s],1===(r=i.get(e)).length?i.delete(e):i.set(e,r.filter(n));function n(t){return t!==e}}}function m(e){return!!o&&o.update("function"==typeof e?e(o.getData()):e)}},t.assign=function(e,...t){const n=Object.assign({},...t),r=Object.keys(n);for(let t,s,o=0,i=r.length;o<i;o++)if(void 0!==(s=n[t=r[o]]))switch(t){case"style":if("string"==typeof s)e.setAttribute("style",s);else for(let t,n=0,r=Object.keys(s),o=r.length;n<o;n++)t=r[n],e.style.setProperty(t,s[t]);break;case"style_vars":for(let t,n=0,r=Object.keys(s),o=r.length;n<o;n++)t=r[n],e.style.setProperty(t,s[t]);break;case"classList":if(!e[t].toggle)break;for(let t,n,r=0,o=Object.keys(s),i=o.length;r<i;r++)-1===(n=s[t=o[r]])?e.classList.toggle(t):e.classList.toggle(t,Boolean(n));break;case"dataset":for(let t,n=0,r=Object.keys(s),o=r.length;n<o;n++)t=r[n],e.dataset[t]=s[t];break;case"href":e.setAttribute(t,s);break;default:e[t]=s}else Reflect.has(e,t)&&Reflect.deleteProperty(e,t)},e.$dom=t}init(window);